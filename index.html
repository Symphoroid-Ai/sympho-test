
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>sympho choice - 完全版</title>
  
</head>
<body>

<h1>sympho choice</h1>


<script>

alert("JS動作テスト");

fetch("videos.json")
  .then(res => {
    if (!res.ok) throw new Error("読み込み失敗");
    return res.json();
  })
  .then(data => {
    alert("読み込み成功: " + JSON.stringify(data));
  })
  .catch(err => {
    alert("読み込みエラー: " + err.message);
  });



function extractVideoId(url) {
  const match = url.match(/(?:youtu\.be\/|youtube\.com.*(?:v=|\/embed\/))([a-zA-Z0-9_-]+)/);
  return match ? match[1] : null;
}

function playRandomVideo(mood) {
  const urls = moodVideos[mood];
  if (!urls || urls.length === 0) {
    alert("その気分の動画が見つかりません");
    return;
  }

  const randomUrl = urls[Math.floor(Math.random() * urls.length)];
  const videoId = extractVideoId(randomUrl);

  if (!videoId) {
    alert("無効な動画URLです");
    return;
  }

  const embedUrl = `https://www.youtube.com/embed/${videoId}?autoplay=1&playsinline=1`;
  document.getElementById("videoArea").innerHTML = \`
    <iframe src="\${embedUrl}" allowfullscreen playsinline></iframe>
    <p>URL: \${embedUrl}</p>
  \`;
}
</script>

</body>
</html>
